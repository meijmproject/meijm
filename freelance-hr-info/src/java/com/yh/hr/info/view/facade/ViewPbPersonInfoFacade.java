/**
 * This file is generated by  code generation tool version 0.2 ^_^
 * Created at 2016-08-15
 **/
package com.yh.hr.info.view.facade;

import java.util.List;

import com.yh.hr.component.unit.service.UtOrganizationComService;
import com.yh.hr.info.ver.unit.person.dto.VerPbPersonInfoDTO;
import com.yh.hr.info.view.service.ViewPbPersonService;
import com.yh.hr.res.pb.dto.PbPersonInfoDTO;
import com.yh.hr.res.pb.service.PbPersonAttachService;
import com.yh.hr.res.pb.service.PbPersonInfoService;
import com.yh.hr.res.unit.service.UtOrgService;
import com.yh.hr.res.unit.service.UtUnitService;
import com.yh.platform.core.exception.ServiceException;
import com.yh.platform.core.util.StringUtil;

/**
 * @desc 人员基础校核信息查看
 * @author luqy
 * @createDate 2016-8-15下午04:26:31
 */
public class ViewPbPersonInfoFacade {
	private PbPersonInfoService	pbPersonInfoService;
	private UtUnitService utUnitService;
	private UtOrgService utOrgService;
	@SuppressWarnings("unused")
	private PbPersonAttachService pbPersonAttachService;
	@SuppressWarnings("unused")
	private UtOrganizationComService utOrganizationComService;
	private ViewPbPersonService viewPbPersonService;

	public void setUtUnitService(UtUnitService utUnitService) {
		this.utUnitService = utUnitService;
	}

	public void setPbPersonInfoService(PbPersonInfoService pbPersonInfoService) {
		this.pbPersonInfoService = pbPersonInfoService;
	}
	
	public void setPbPersonAttachService(PbPersonAttachService pbPersonAttachService) {
		this.pbPersonAttachService = pbPersonAttachService;
	}
	
	public void setUtOrganizationComService(
			UtOrganizationComService utOrganizationComService) {
		this.utOrganizationComService = utOrganizationComService;
	}
	public void setUtOrgService(UtOrgService utOrgService) {
		this.utOrgService = utOrgService;
	}
	public void setViewPbPersonService(ViewPbPersonService viewPbPersonService) {
		this.viewPbPersonService = viewPbPersonService;
	}

	/*
	 * 人员基础信息查询
	 */
	public VerPbPersonInfoDTO getPbPersonInfoDTOById(Long personOid) throws ServiceException {
		VerPbPersonInfoDTO pbPersonInfoDTO = viewPbPersonService.getPbPersonInfoDTOById(personOid);
		if(StringUtil.isNotNull(pbPersonInfoDTO.getHireDeptOid())){
			pbPersonInfoDTO.setHireDeptName(this.getOrgName(pbPersonInfoDTO.getHireDeptOid()));
		}
		
		return pbPersonInfoDTO;
	}
    /**
     * 获取单位名称
     * @param unitOid
     * @return
     * @throws ServiceException
     */
	public String getUnitName(Long unitOid) throws ServiceException {
		return utUnitService.getUnitName(unitOid);
	}
    /**
     * 获取部门名称
     * @param deptOid
     * @return
     * @throws ServiceException 
     */
	public String getOrgName(Long deptOid) throws ServiceException {
		return utOrgService.getOrgName(deptOid);
	}
	
	/**
	 * 根据人员名称查询人员信息(在职,见习长期休假)
	 * @param name
	 * @return
	 * @throws ServiceException
	 */
	public List<PbPersonInfoDTO> findPersonInfoByName(String name) throws ServiceException {
		return pbPersonInfoService.findPersonInfoByName(name);
	}
}
