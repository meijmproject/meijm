/**
 * This file is generated by  code generation tool version 0.2 ^_^
 * Created at 2017-05-13
**/
package com.yh.hr.info.personalinfoupdate.web.action;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import org.apache.struts.action.ActionForm;
import org.apache.struts.action.ActionForward;
import org.apache.struts.action.ActionMapping;
import com.yh.hr.info.personalinfoupdate.facade.PersonalInfoUpdateFacade;
import com.yh.hr.res.pb.dto.PbPersonInfoDTO;
import com.yh.platform.core.util.SpringBeanUtil;
import com.yh.platform.core.web.action.BaseAction;
public class PersonalInfoUpdateAction extends BaseAction {
	
	private PersonalInfoUpdateFacade personalInfoUpdateFacade = (PersonalInfoUpdateFacade) SpringBeanUtil.getBean("personalInfoUpdateFacade");

	/**
	 * @desc 跳转至个人信息修改页面
	 * @author lihj
	 * @createDate 2016-10-29
	 */
	public ActionForward goPersonalInfoUpdate(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response) throws Exception
	{
		PbPersonInfoDTO pbPersonInfoDTO =personalInfoUpdateFacade.getPbPersonInfoDTO();
		if(pbPersonInfoDTO==null){
			throw new Exception("当前登录用户没有与人员绑定！");
		}
		request.setAttribute("personOid",pbPersonInfoDTO.getPersonOid());
		return mapping.findForward("success");
	}
}
